## 中学刷题系统设计文档（EduNest扩展）

### 一、项目目标

在现有的 [edunest.cn](http://edunest.cn/) 基础上，为中学历史与生物学科构建一个支持个性化、结构化、沉浸式刷题体验的系统，涵盖学生端与教师端，提升学生学习效率和教师教研支持能力。

------

### 二、系统架构概览

- **前端角色**：
  - 学生端 Web 应用
  - 教师端 Web 应用
- **后端服务**：
  - 用户与权限管理
  - 题库与练习管理
  - 数据统计与分析服务
  - 大模型评分与知识点分类服务（调用外部API）

------

### 三、功能模块详解

#### 1. 学生端模块

##### 1.1 练习入口 UI

- 原页面顶部【练习】按钮悬停后显示下拉菜单：
  - 「课堂练习」：由教师布置，不能自由选题；
  - 「智能练习」：学生自主选择知识点和练习方式。

##### 1.2 智能练习流程

1. 选择科目（历史 / 生物）
2. 选择练习方式：
   - 开始新一轮刷题
   - 错题重刷
   - 查看历史记录
3. 【新一轮刷题】流程：
   - 树状结构选择知识点章节
   - 进入**沉浸式**刷题页面（仅保留题目、选项、下一题、结束刷题按钮）
   - 实时反馈答案与解析
   - 结束后展示分析报告：用时、正确率、涉及知识点统计图
4. 【错题重刷】：
   - 系统自动归档所有错题
   - 可按知识点筛选错题重做
   - 支持「一键全部错题重刷」或按知识点挑选刷题
5. 【历史记录】：
   - 以列表展示过往刷题记录（时间、用时、正确率、主知识点）
   - 点击某条记录进入详情页：
     - 本次练习涉及的题目及作答情况
     - 错误原因分析
     - 知识点树状图定位错因分布
6. 【异常恢复机制】：
   - 若学生中断刷题（如关闭网页），系统记录状态
   - 下次进入刷题界面时弹窗提示："是否继续上次刷题？"

##### 1.3 题目类型支持

- **客观题**（历史、生物选择题）：系统自动判断正误
- **主观题**（生物简答题）：调用大模型接口评分并生成反馈

------

#### 2. 教师端模块

##### 2.1 题目录入界面

- **最上方文本框可直接输入完整题目文本**，调用大模型解析成结构化数据：
  - 自动提取题干、选项、答案、题型
  - 自动识别并匹配知识点（可手动微调）
- 也可手动输入题干、选项、答案、题型、知识点

##### 2.2 数据分析界面

1. 指标展示：
   - 正确率（总览、分知识点、分班级）
   - 刷题次数 / 频率
   - 错题率分布图
   - 学生学习轨迹可视化（雷达图 / 热力图）等
2. 支持筛选与导出：
   - 可按班级、学生、时间段、题目类型筛选
   - 一键导出为Excel/PDF格式
3. 智能推荐：
   - 根据错题模式和知识点薄弱情况，推荐针对性练习任务给学生

------

### 四、用户角色与权限

| 用户类型 | 权限说明                                             |
| -------- | ---------------------------------------------------- |
| 学生     | 登录、做题、查看错题与历史、个性化设置               |
| 教师     | 登录、创建练习任务、录入题目、查看全班统计、学生数据 |
| 管理员   | 增删学科、知识点配置、题库维护、权限管理             |

------

### 五、后续功能规划

- 支持语音答题
- 错题本自动生成错因解析
- 教师布置题目后可设置「截止时间」与「难度等级」