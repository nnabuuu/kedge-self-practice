# Production Environment Configuration Template
# ==============================================
# Copy this to .env on your production server
# The SAME Docker image works with ALL LLM providers!

# Core Database & Services
# -------------------------
NODE_ENV=production
NODE_DATABASE_URL=postgres://user:password@host:5432/kedge_db
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_DB=0
JWT_SECRET=change-this-to-a-secure-secret
JWT_EXPIRES_IN=7d

# Hasura GraphQL
# --------------
HASURA_ENDPOINT=http://hasura:8080
HASURA_SECRET=your-hasura-admin-secret

# File Storage
# ------------
QUIZ_STORAGE_PATH=/app/uploads/quiz
MAX_FILE_SIZE=104857600  # 100MB

# ==============================================
# LLM CONFIGURATION - CHOOSE YOUR PROVIDER
# ==============================================
# The system auto-detects the provider based on model name:
#   - gpt-*, o1-* → OpenAI
#   - deepseek-* → DeepSeek
#   - claude-* → Anthropic

# ----------------------------------------------
# OPTION 1: DeepSeek (Cost-effective)
# ----------------------------------------------
LLM_MODEL_QUIZ_PARSER=deepseek-chat
LLM_MODEL_QUIZ_RENDERER=deepseek-chat
LLM_MODEL_ANSWER_VALIDATOR=deepseek-chat
LLM_MODEL_KNOWLEDGE_EXTRACTOR=deepseek-chat
DEEPSEEK_API_KEY=your-deepseek-api-key-here
DEEPSEEK_BASE_URL=https://api.deepseek.com

# ----------------------------------------------
# OPTION 2: OpenAI (High quality)
# ----------------------------------------------
# LLM_MODEL_QUIZ_PARSER=gpt-4o-2024-08-06
# LLM_MODEL_QUIZ_RENDERER=gpt-4o-mini
# LLM_MODEL_ANSWER_VALIDATOR=gpt-4o-mini
# LLM_MODEL_KNOWLEDGE_EXTRACTOR=gpt-4o
# OPENAI_API_KEY=sk-your-openai-api-key-here
# OPENAI_BASE_URL=https://api.openai.com/v1

# ----------------------------------------------
# OPTION 3: Mixed (Optimize cost vs quality)
# ----------------------------------------------
# LLM_MODEL_QUIZ_PARSER=deepseek-chat        # Cheap for parsing
# LLM_MODEL_QUIZ_RENDERER=gpt-4o-mini        # Quality for rendering
# LLM_MODEL_ANSWER_VALIDATOR=deepseek-chat   # Cheap for validation
# LLM_MODEL_KNOWLEDGE_EXTRACTOR=gpt-4o       # Quality for extraction
# DEEPSEEK_API_KEY=your-deepseek-key
# OPENAI_API_KEY=sk-your-openai-key

# ==============================================
# To switch providers:
# 1. Comment out current option
# 2. Uncomment desired option
# 3. Restart container: docker-compose restart
# ==============================================