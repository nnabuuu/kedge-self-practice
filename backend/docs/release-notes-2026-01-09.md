# 版本更新报告 (2026-01-09)

## 一、问题修复

1. 修复了一个bug，该bug导致用户在进行选择题练习时，选中正确选项后未高亮显示。
2. 修复了一个bug，该bug导致用户在进行填空题练习时，选择不显示空格提示后，该选项被意外恢复为显示提示。

## 二、后端修复

### 1. 环境变量自动加载
- **问题**：生产环境运行 `node dist/.../main.js` 时不会自动读取 `.env` 文件
- **修复**：在 `main.ts` 顶部添加 `import 'dotenv/config'`
- **提交**：`b83ddb2`

### 2. OSS 上传超时
- **问题**：大文件上传到 OSS 时 60 秒超时
- **修复**：将超时时间增加到 5 分钟
- **提交**：`427514a`

### 3. 项目文件整理
- **问题**：后端根目录散乱着大量文档和脚本文件
- **修复**：整理到 `docs/` 和 `scripts/` 子目录
- **提交**：`e2ba884`

### 4. 新增图片验证脚本
- **功能**：扫描数据库中所有题目，验证图片是否存在
- **提交**：`6dd9136`

## 三、缺失图片报告

| 题目ID | 题目预览 | 图片占位符 | 状态 |
|--------|----------|------------|------|
| `1a1ebb30-dc16-4757-8571-ad74f9e97be1` | 右图所示是民国九年的一则报纸广告... | `{{image:51d16c6c-a43b-4650-b1b8-ec61b8c0e60a}}` | 缺失 |
| `40248d75-6626-484c-8928-664340cc346e` | "宇宙之间，一理而已..."。提出该思想...是 | `{{image:word/media/image16.wmf}}` | 缺失 |
| `7f572049-8286-400e-b8be-06e50034644b` | 16世纪，马丁·路德领导的宗教改革... | `{{image:temp_xcrvdl8e9fn}}` | 缺失 |
| `aa203b98-7e85-46cf-ac35-1b002c7d52c2` | 14世纪与17世纪，欧洲先后出现了两场... | `{{image:0ae399b0-353f-4985-a284-ed38bc081a96}}` | 缺失 |
| `bf0a23d9-f24c-42f3-bd59-c306b030cfb4` | 下图为《15世纪欧洲出现印书坊的城市》... | `{{image:temp_qpmm26xa28b}}` | 缺失 |

### 统计

- **图片有效率**：239/244 (98%)
- **缺失图片**：5 个（2个临时文件、1个Word路径、2个UUID不存在）
