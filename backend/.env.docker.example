# Example environment file for Docker deployment
# Copy this file to your config directory outside the repository
# and rename it to .env

# ====================
# REQUIRED VARIABLES
# ====================

# Database Configuration
NODE_DATABASE_URL=postgres://postgres:postgres@postgres:5432/kedge_db
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres
POSTGRES_DB=kedge_db
POSTGRES_PORT=7543

# Redis Configuration
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_DB=0
REDIS_PASSWORD=

# Authentication
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production
JWT_EXPIRES_IN=7d

# Hasura Configuration
HASURA_GRAPHQL_ADMIN_SECRET=your-hasura-admin-secret-change-this
HASURA_VERSION=2.35.1
HASURA_PORT=28717
HASURA_ENABLE_CONSOLE=true
HASURA_LOG_LEVEL=info

# ====================
# OPTIONAL VARIABLES
# ====================

# Application Configuration
NODE_ENV=production
API_PORT=8718
API_PREFIX=/v1

# Storage Paths (inside container)
QUIZ_STORAGE_PATH=/app/quiz-storage
UPLOAD_PATH=/app/uploads
LOG_PATH=/app/logs

# OpenAI Configuration (for quiz generation)
OPENAI_API_KEY=your-openai-api-key
OPENAI_BASE_URL=https://api.openai.com/v1
OPENAI_MODEL=gpt-4

# Alternative LLM Configuration (DeepSeek, etc.)
LLM_PROVIDER=openai
LLM_API_KEY=${OPENAI_API_KEY}
LLM_BASE_URL=${OPENAI_BASE_URL}
LLM_MODEL=${OPENAI_MODEL}

# CORS Configuration
CORS_ORIGIN=http://localhost:3000,http://localhost:5173
CORS_CREDENTIALS=true

# Rate Limiting
RATE_LIMIT_TTL=60
RATE_LIMIT_LIMIT=100

# Logging
LOG_LEVEL=info
LOG_PRETTY=false

# File Upload Limits
MAX_FILE_SIZE=10485760
MAX_FILES=10

# Session Configuration
SESSION_SECRET=your-session-secret-change-this
SESSION_NAME=kedge.sid
SESSION_MAX_AGE=86400000

# Email Configuration (if needed)
SMTP_HOST=smtp.example.com
SMTP_PORT=587
SMTP_USER=
SMTP_PASS=
SMTP_FROM=noreply@kedge.com

# Monitoring (optional)
SENTRY_DSN=
NEW_RELIC_LICENSE_KEY=
DATADOG_API_KEY=

# Feature Flags
ENABLE_SWAGGER=true
ENABLE_METRICS=false
ENABLE_TRACING=false
DISABLE_KNOWLEDGE_BOOTSTRAP=false

# Security
BCRYPT_ROUNDS=10
ALLOWED_ORIGINS=*
TRUSTED_PROXIES=127.0.0.1